Title: FlashPlayer プラグイン
Author: わたなべごう

●これはなに？

吉里吉里から直接 Flash を駆動する機能拡張です。
レイヤに対して Flash の描画内容を書き出し可能です。
動作するには、IE用の ActiveX 版 Flash がインストール
されている必要があります。

作成には Flash8 の OCX を使ってありますが、
動作確認は Flash10 でしか行っていません。

●使用方法

詳細はmanual.tjs を参照してください。

●注意事項

Flash のファイル参照は独自のものなので、
loadMovie() でファイルを渡す場合は、ローカルストレージを
Storages.getLocalName() で OSのファイル名にしたものを渡す必要があります。
つまり通常は吉里吉里のアーカイブ中に動画ファイルを格納することはできません。

ただし、初期化用の動画を initMovie() で指定する場合に限り、
アーカイブ中を含む任意の吉里吉里のストレージを指定可能です。

●既知の問題

FlashPlayer が通常テキスト描画時にαを適切に処理しないらしく、
ltAlpha なレイヤに対して描画するとテキスト部分が消えてしまいます。
埋め込みフォントを使うか、ltOpaque なレイヤを使ってください。

ExternalInterfaceに対応していますが、FlashPlayer側に
例外を送り込む方法が謎で実装されてません。

キーコード系の整合がとれてません

initMoie()/clearMovie() でのロードしてるのムービの解放差し替えが
できるはず＆実際にそれ自体は動作しているのですが、
FlashPlayerのバグなのか、ロード時に確保したメモリが解放
されないようです。仕様（ガベージコレクト待ち）の可能性も
ありますが、現状よくわからないので、頻繁に差し替える場合は、
FlashPlayer オブジェクトごと破棄して作り直したほうが
無難です。




●ライセンス

このプラグインのライセンスは吉里吉里本体に準拠してください。

●謝辞

このプログラム作成にあたっては以下の記事およびソースコードを参考にしてあります。
http://www.codeproject.com/KB/COM/flashcontrol.aspx

/******************************************************************
***
***
***				FREE WINDOWLESS FLASH CONTROL
***
***					   by Makarov Igor
***
***		for questions and remarks mailto: mak_july@list.ru
***
***
*******************************************************************/
